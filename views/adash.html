<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SolidRoots Properties</title>
    <link
      rel="shortcut icon"
      href="https://i.pinimg.com/736x/30/bd/b7/30bdb7888e4126d0638d9c274417faac.jpg"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #f8f9fa;
        font-family: "Arial", sans-serif;
      }
      .navbar-dark {
        background-color: #124824;
        padding: 1rem;
        letter-spacing: 0.5px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .navbar-brand img {
        filter: drop-shadow(2px 2px 5px rgba(0, 0, 0, 0.3));
        transition: transform 0.3s ease;
      }
      .navbar-brand img:hover {
        transform: scale(1.05);
      }
      .navbar-dark .navbar-brand {
        font-size: 1.8rem;
        font-weight: bold;
        color: #fff;
        letter-spacing: 1px;
      }
      .navbar-dark .nav-link {
        color: rgba(255, 255, 255, 0.85);
        font-size: 1rem;
        font-weight: 500;
        margin: 5px 15px;
        padding: 5px 10px;
        transition: all 0.3s ease;
      }
      .navbar-dark .nav-link:hover {
        color: #fff;
        background-color: #b78509;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }
      .card {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border: none;
        background: linear-gradient(145deg, #ffffff, #f0f0f0);
        border-radius: 10px;
      }
      .card-body {
        padding: 2rem;
      }
      .widget-icon {
        font-size: 3rem;
        color: #124824;
      }
      .card-title {
        color: #124824;
        font-weight: bold;
        font-size: 1.5rem;
      }
      .card-text {
        font-size: 1.2rem;
        color: #b78509;
        font-weight: bold;
      }
      h1 {
        color: #124824;
        font-weight: bold;
        margin-bottom: 1rem;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
      }
      .btn {
        background-color: #b78509;
        color: #fff;
        border: none;
        font-weight: bold;
        padding: 10px 20px;
        border-radius: 5px;
        transition: background-color 0.3s;
      }
      .btn:hover {
        background-color: #124824;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container">
        <div class="mx-auto">
          <a class="navbar-brand" href="#">
            <img
              src="https://i.pinimg.com/736x/30/bd/b7/30bdb7888e4126d0638d9c274417faac.jpg"
              alt="Logo"
              width="125"
              height="77"
            />
          </a>
        </div>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-center"
          id="navbarNav"
        >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="adash.html">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="create_commercial.html"
                >Commercial Property</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="create_residential.html"
                >Residential Property</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="create_retail.html">Retail Property</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="create_land.html">Land Details</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container mt-5">
      <h1 class="text-center">Dashboard</h1>
      <div class="row g-4">
        <!-- Residential Properties Widget -->
        <div class="col-lg-12 col-md-6">
          <div class="card text-center">
            <div class="card-body">
              <i class="bi bi-house-fill widget-icon"></i>
              <h5 class="card-title">Residential Properties</h5>
              <p class="card-text fs-4" id="residentialCount">0</p>
            </div>
          </div>
        </div>

        <!-- Commercial Properties Widget -->
        <div class="col-lg-12 col-md-6">
          <div class="card text-center">
            <div class="card-body">
              <i class="bi bi-building widget-icon"></i>
              <h5 class="card-title">Commercial Properties</h5>
              <p class="card-text fs-4" id="commercialCount">0</p>
            </div>
          </div>
        </div>

        <!-- Retail Properties Widget -->
        <div class="col-lg-12 col-md-6">
          <div class="card text-center">
            <div class="card-body">
              <i class="bi bi-shop-window widget-icon"></i>
              <h5 class="card-title">Retail Properties</h5>
              <p class="card-text fs-4" id="retailCount">0</p>
            </div>
          </div>
        </div>

        <!-- Land Widget -->
        <div class="col-lg-12 col-md-6">
          <div class="card text-center">
            <div class="card-body">
              <i class="bi bi-tree-fill widget-icon"></i>
              <h5 class="card-title">Land Properties</h5>
              <p class="card-text fs-4" id="landCount">0</p>
            </div>
          </div>
        </div>
      </div>
      <form action="/auth/logout" method="POST" style="margin-top: 20px; margin-bottom: 20px;">
        <button type="submit" class="btn btn-danger w-100">Logout</button>
      </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const fetchCounts = async () => {
        try {
          const [residential, commercial, retail, land] = await Promise.all([
            fetch("http://localhost:3000/api/residentialproperties").then(
              (res) => res.json()
            ),
            fetch("http://localhost:3000/api/commercialproperties").then(
              (res) => res.json()
            ),
            fetch("http://localhost:3000/api/retailproperties").then((res) =>
              res.json()
            ),
            fetch("http://localhost:3000/api/lands").then((res) =>
              res.json()
            ),
          ]);

          document.getElementById("residentialCount").textContent =
            residential.length;
          document.getElementById("commercialCount").textContent =
            commercial.length;
          document.getElementById("retailCount").textContent = retail.length;
          document.getElementById("landCount").textContent = land.length;
        } catch (error) {
          console.error("Error fetching property counts:", error);
        }
      };

      fetchCounts();
    </script>
  </body>
</html>
