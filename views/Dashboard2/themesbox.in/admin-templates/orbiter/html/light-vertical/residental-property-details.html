<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from themesbox.in/admin-templates/orbiter/html/light-vertical/form-groups.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Nov 2024 07:11:12 GMT -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Orbiter is a bootstrap minimal & clean admin template">
    <meta name="keywords" content="admin, admin panel, admin template, admin dashboard, responsive, bootstrap 4, ui kits, ecommerce, web app, crm, cms, html, sass support, scss">
    <meta name="author" content="Themesbox">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>SolidRoots Properties</title>
    <!-- Fevicon -->
    <link rel="shortcut icon" href="../../../../../../assets/img/solidroots properties logo c3-2.png">
    <!-- Start css -->
    <!-- Switchery css -->
    <link href="assets/plugins/switchery/switchery.min.css" rel="stylesheet">
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="assets/css/icons.css" rel="stylesheet" type="text/css">
    <link href="assets/css/flag-icon.min.css" rel="stylesheet" type="text/css">
    <link href="assets/css/style.css" rel="stylesheet" type="text/css">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->

    <!-- End css -->
</head>
<body class="vertical-layout">
    <!-- Start Infobar Setting Sidebar -->
     
    <div class="infobar-settings-sidebar-overlay"></div>
    <!-- End Infobar Setting Sidebar -->
    <!-- Start Containerbar -->
    <div id="containerbar">
        <!-- Start Leftbar -->
        <div class="leftbar">
            <!-- Start Sidebar -->
            <div class="sidebar">
                <!-- Start Logobar -->
                <div class="logobar">
                                                                    <a href="dashboard-school.html" class="mobile-logo"><img src="../../../../../../../../assets/img/solidroots properties logo c3-2.png" class="img-fluid" alt="logo"   width="145" height="167"></a>


                </div>
                <!-- End Logobar -->
                <!-- Start Navigationbar -->
                  <div class="navigationbar">
                    <ul class="vertical-menu">
                      
                      <li>
                        <a href="dashboard-school.html">
                            <img src="assets/images/svg-icon/dashboard.svg" class="img-fluid" alt="widgets"><span>Dashboard</span>
                        </a>
                    </li> 
                      
                      <li>
                        <a href="residental-property-details.html">
                            <img src="assets/images/svg-icon/layouts.svg" class="img-fluid" alt="widgets"><span>Residential Property Details</span>
                        </a>
                    </li> 
                      <li>
                        <a href="commercial-property-details.html">
                            <img src="assets/images/svg-icon/layouts.svg" class="img-fluid" alt="widgets"><span>Commercial Property Details</span>
                        </a>
                    </li> 
                    <li>
                        <a href="land-details.html">
                            <img src="assets/images/svg-icon/layouts.svg" class="img-fluid" alt="widgets"><span>Land Details</span>
                        </a>
                    </li> 
                   
                         
                         
                         
                        
                         
                          
                        
                         
                          <li>
                            <a href="javaScript:void();">
                              <img src="assets/images/svg-icon/pages.svg" class="img-fluid" alt="pages"><span>View Page</span><i class="feather icon-chevron-right pull-right"></i>
                            </a>
                            <ul class="vertical-submenu">
                              <li> <a href="https://solidrootsproperties.vercel.app/index.html" target="_blank">SolidRoots Properties</a></li>  
                               </ul>
                        </li>                        
                      
                                                                  
                    </ul>
                </div>
                <!-- End Navigationbar -->
            </div>
            <!-- End Sidebar -->
        </div>
        <!-- End Leftbar -->
        <!-- Start Rightbar -->
        <div class="rightbar">
            <!-- Start Topbar Mobile -->
            <div class="topbar-mobile">
                <div class="row align-items-center">
                    <div class="col-md-12">
                        <div class="mobile-logobar">
                                                <a href="dashboard-school.html" class="mobile-logo"><img src="../../../../../../assets/img/solidroots properties logo c3/solidroots properties logo c3-2.png" class="img-fluid" alt="logo"   width="145" height="167"></a>

                        </div>
                        <div class="mobile-togglebar">
                            <ul class="list-inline mb-0">
                                <li class="list-inline-item">
                                    <div class="topbar-toggle-icon">
                                        <a class="topbar-toggle-hamburger" href="javascript:void();">
                                            <img src="assets/images/svg-icon/horizontal.svg" class="img-fluid menu-hamburger-horizontal" alt="horizontal">
                                            <img src="assets/images/svg-icon/verticle.svg" class="img-fluid menu-hamburger-vertical" alt="verticle">
                                         </a>
                                     </div>
                                </li>
                                <li class="list-inline-item">
                                    <div class="menubar">
                                        <a class="menu-hamburger" href="javascript:void();">
                                            <img src="assets/images/svg-icon/collapse.svg" class="img-fluid menu-hamburger-collapse" alt="collapse">
                                            <img src="assets/images/svg-icon/close.svg" class="img-fluid menu-hamburger-close" alt="close">
                                         </a>
                                     </div>
                                </li>                                
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Start Topbar -->
            <div class="topbar">
                <!-- Start row -->
                <div class="row align-items-center">
                    <!-- Start col -->
                    <div class="col-md-12 align-self-center">
                        <div class="togglebar">
                            <ul class="list-inline mb-0">
                                <li class="list-inline-item">
                                    <div class="menubar">
                                        <a class="menu-hamburger" href="javascript:void();">
                                           <img src="assets/images/svg-icon/collapse.svg" class="img-fluid menu-hamburger-collapse" alt="collapse">
                                           <img src="assets/images/svg-icon/close.svg" class="img-fluid menu-hamburger-close" alt="close">
                                         </a>
                                     </div>
                                </li>
                                <li class="list-inline-item">
                                    <div class="searchbar">
                                        <form>
                                            <div class="input-group">
                                              <input type="search" class="form-control" placeholder="Search" aria-label="Search" aria-describedby="button-addon2">
                                              <div class="input-group-append">
                                                <button class="btn" type="submit" id="button-addon2"><img src="assets/images/svg-icon/search.svg" class="img-fluid" alt="search"></button>
                                              </div>
                                            </div>
                                        </form>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="infobar">
                            <ul class="list-inline mb-0">
                                
                                                                  
                                 
                                <li class="list-inline-item">
                                    <div class="profilebar">
                                        <div class="dropdown">
                                          <a class="dropdown-toggle" href="#" role="button" id="profilelink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="assets/images/users/profile.svg" class="img-fluid" alt="profile"><span class="feather icon-chevron-down live-icon"></span></a>
                                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="profilelink">
                                                <div class="dropdown-item">
                                                    <div class="profilename">
                                                       <h5>Olivia</h5>
                                                    </div>
                                                </div>
                                                <div class="userbox">
                                                    <ul class="list-unstyled mb-0">
                                                        <li class="media dropdown-item">
                                                            <a href="#" class="profile-icon"><img src="assets/images/svg-icon/user.svg" class="img-fluid" alt="user">My Profile</a>
                                                        </li>
                                                        <li class="media dropdown-item">
                                                            <a href="#" class="profile-icon"><img src="assets/images/svg-icon/email.svg" class="img-fluid" alt="email">Email</a>
                                                        </li>                                                        
                                                        <li class="media dropdown-item">
                                                            <a href="#" class="profile-icon"><img src="assets/images/svg-icon/logout.svg" class="img-fluid" alt="logout">Logout</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>                                   
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- End col -->
                </div> 
                <!-- End row -->
            </div>
            <!-- End Topbar -->
            <!-- Start Breadcrumbbar -->                    
            <div class="breadcrumbbar">
                <div class="row align-items-center">
                    <div class="col-md-8 col-lg-8">
                        <h4 class="page-title">Land Form</h4>
                        <div class="breadcrumb-list">
                            <ol class="breadcrumb">
                                 <li class="breadcrumb-item"><a href="dashboard-school.html">Dashboard</a></li>
                                <li class="breadcrumb-item"><a href="#">Forms</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Land Form</li>
                            </ol>
                        </div>
                    </div>
                    <div class="col-md-4 col-lg-4">
                        <div class="widgetbar">
                                                        <button class="btn btn-primary-rgba"><i class="feather icon-plus mr-2"></i>Add New</button>

                        </div>                         
                    </div>
                </div>          
            </div>
            <!-- End Breadcrumbbar -->
            <!-- Start Contentbar -->    
            <div class="contentbar">
                <!-- Start row -->
                <div class="container mt-5">
                  <h1 class="text-center">Residential Properties</h1>
                  
                  <!-- Form for CRUD -->
                  <form id="propertyForm" class="mb-4">
                      <div class="row">
                          <div class="mb-3 col-md-6">
                              <label for="location" class="form-label">Location</label>
                              <input type="text" class="form-control" id="location" name="location" required>
                          </div>
                          <div class="mb-3 col-md-6">
                              <label for="price" class="form-label">Price</label>
                              <input type="text" class="form-control" id="price" name="price" required>
                          </div>
                      </div>
                      <div class="row">
                          <div class="mb-3 col-md-6">
                              <label for="category" class="form-label">Category</label>
                              <select class="form-select" id="category" name="category" required>
                                  <option value="Residential">Residential</option>
                                  <option value="Commercial">Commercial</option>
                              </select>
                          </div>
                          <div class="mb-3 col-md-6">
                              <label for="status" class="form-label">Status</label>
                              <select class="form-select" id="status" name="status" required>
                                  <option value="For Sale">For Sale</option>
                                  <option value="For Rent">For Rent</option>
                              </select>
                          </div>
                      </div>
                      <div class="row">
                          <div class="mb-3 col-md-6">
                              <label for="availability" class="form-label">Availability</label>
                              <select class="form-select" id="availability" name="availability">
                                  <option value="Available">Available</option>
                                  <option value="Not Available">Not Available</option>
                              </select>
                          </div>
                          <div class="mb-3 col-md-6">
                              <label for="images" class="form-label">Images (Comma-separated URLs)</label>
                              <input type="text" class="form-control" id="images" name="images">
                          </div>
                      </div>
                      <div class="mb-3">
                          <label for="description" class="form-label">Description</label>
                          <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
                      </div>
                      <div class="mb-3">
                          <label for="floorplan" class="form-label">Floorplan (Comma-separated URLs)</label>
                          <input type="text" class="form-control" id="floorplan" name="floorplan">
                      </div>
                      <input type="hidden" id="propertyId">
                      <button type="submit" class="btn btn-primary">Save Property</button>
                      <button type="button" class="btn btn-secondary" id="resetForm">Reset</button>
                  </form>
          
                  <!-- Table for CRUD -->
                  <table class="table table-bordered">
                      <thead class="table-dark">
                          <tr>
                              <th>Location</th>
                              <th>Price</th>
                              <th>Category</th>
                              <th>Status</th>
                              <th>Availability</th>
                              <th>Description</th>
                              <th>Images</th>
                              <th>Floorplan</th>
                              <th>Actions</th>
                          </tr>
                      </thead>
                      <tbody id="propertyTable">
                          <!-- Data will be populated here dynamically -->
                      </tbody>
                  </table>
              </div>
                
                <!-- End row -->
            </div>
            
            <!-- End Contentbar -->
            <!-- Start Footerbar -->
            <div class="footerbar">
                <footer class="footer">
                    <p class="mb-0">© 2024 WorkingWave- All Rights Reserved.</p>
                </footer>
            </div>
            <!-- End Footerbar -->
        </div>
        <!-- End Rightbar -->
    </div>

    <script>
      const apiUrl = 'http://localhost:3000/api/residentialproperties'; // Replace with your backend endpoint

      // Fetch and display properties
      const fetchProperties = async () => {
          try {
              const response = await axios.get(apiUrl);
              const properties = response.data;
              const tableBody = document.getElementById('propertyTable');
              tableBody.innerHTML = '';

              properties.forEach(property => {
                  const images = property.images.map(img => `<img src="${img}" alt="Image" class="img-thumbnail" style="width: 80px; height: 80px; margin: 2px;">`).join('');
                  const floorplans = property.floorplan.map(plan => `<img src="${plan}" alt="Floorplan" class="img-thumbnail" style="width: 80px; height: 80px; margin: 2px;">`).join('');

                  const row = `<tr>
                      <td>${property.location}</td>
                      <td>${property.price}</td>
                      <td>${property.category}</td>
                      <td>${property.status}</td>
                      <td>${property.availability}</td>
                      <td>${property.description}</td>
                      <td>${images}</td>
                      <td>${floorplans}</td>
                      <td>
                          <button class="btn btn-sm btn-warning" onclick="editProperty('${property._id}')">Edit</button>
                          <button class="btn btn-sm btn-danger" onclick="deleteProperty('${property._id}')">Delete</button>
                      </td>
                  </tr>`;
                  tableBody.innerHTML += row;
              });
          } catch (error) {
              console.error('Error fetching properties:', error);
          }
      };

      // Add or update property
      document.getElementById('propertyForm').addEventListener('submit', async (e) => {
          e.preventDefault();

          const propertyId = document.getElementById('propertyId').value;
          const propertyData = {
              location: document.getElementById('location').value,
              price: document.getElementById('price').value,
              category: document.getElementById('category').value,
              status: document.getElementById('status').value,
              availability: document.getElementById('availability').value,
              description: document.getElementById('description').value,
              images: document.getElementById('images').value.split(','),
              floorplan: document.getElementById('floorplan').value.split(',')
          };

          try {
              if (propertyId) {
                  await axios.put(`${apiUrl}/${propertyId}`, propertyData);
              } else {
                  await axios.post(apiUrl, propertyData);
              }

              document.getElementById('propertyForm').reset();
              fetchProperties();
          } catch (error) {
              console.error('Error saving property:', error);
          }
      });

      // Edit property
      const editProperty = async (id) => {
          try {
              const response = await axios.get(`${apiUrl}/${id}`);
              const property = response.data;

              document.getElementById('propertyId').value = property._id;
              document.getElementById('location').value = property.location;
              document.getElementById('price').value = property.price;
              document.getElementById('category').value = property.category;
              document.getElementById('status').value = property.status;
              document.getElementById('availability').value = property.availability;
              document.getElementById('description').value = property.description;
              document.getElementById('images').value = property.images.join(',');
              document.getElementById('floorplan').value = property.floorplan.join(',');
          } catch (error) {
              console.error('Error fetching property:', error);
          }
      };

      // Delete property
      const deleteProperty = async (id) => {
          try {
              await axios.delete(`${apiUrl}/${id}`);
              fetchProperties();
          } catch (error) {
              console.error('Error deleting property:', error);
          }
      };

      // Reset form
      document.getElementById('resetForm').addEventListener('click', () => {
          document.getElementById('propertyForm').reset();
          document.getElementById('propertyId').value = '';
      });

      // Initial fetch
      fetchProperties();
  </script>
    <!-- End Containerbar -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
  
    <script>
      const fetchLands = () => {
        fetch('http://localhost:3000/api/lands')
          .then(response => response.json())
          .then(lands => {
            const tableBody = document.querySelector('#landTable tbody');
            tableBody.innerHTML = '';
            lands.forEach(land => {
              const row = document.createElement('tr');
              row.innerHTML = `
                <td>${land.images.map(img => `<img src="${img}" alt="Land Image" class="img-thumbnail" style="max-width: 100px;">`).join(' ')}</td>
                <td>${land.location}</td>
                <td>${land.price}</td>
                <td>${land.availability}</td>
                <td>${land.category}</td>
                <td>${land.description}</td>
                <td>${land.status}</td>
                <td>
                  <button onclick="editLand('${land._id}')" class="btn btn-warning btn-sm">Edit</button>
                  <button onclick="deleteLand('${land._id}')" class="btn btn-danger btn-sm">Delete</button>
                </td>
              `;
              tableBody.appendChild(row);
            });
          });
      };
  
      document.getElementById('landForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const id = document.getElementById('landId').value;
        const images = document.getElementById('images').value.split('\n').filter(Boolean);
  
        if (images.length < 1 || images.length > 10) {
          document.getElementById('formError').innerText = 'Please provide between 1 and 10 images.';
          return;
        }
  
        const land = {
          images,
          location: document.getElementById('location').value,
          price: document.getElementById('price').value,
          availability: document.getElementById('availability').value,
          category: document.getElementById('category').value,
          description: document.getElementById('description').value,
          status: document.getElementById('status').value,
        };
  
        const method = id ? 'PUT' : 'POST';
        const url = id ? `http://localhost:3000/api/lands/${id}` : 'http://localhost:3000/api/lands';
  
        fetch(url, {
          method,
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(land),
        }).then(() => {
          fetchLands();
          document.getElementById('landForm').reset();
        });
      });
  
      const deleteLand = (id) => {
        fetch(`http://localhost:3000/api/lands/${id}`, { method: 'DELETE' }).then(() => fetchLands());
      };
  
      const editLand = (id) => {
        fetch(`http://localhost:3000/api/lands/${id}`)
          .then(res => res.json())
          .then(land => {
            document.getElementById('landId').value = land._id;
            document.getElementById('images').value = land.images.join('\n');
            document.getElementById('location').value = land.location;
            document.getElementById('price').value = land.price;
            document.getElementById('availability').value = land.availability;
            document.getElementById('category').value = land.category;
            document.getElementById('description').value = land.description;
            document.getElementById('status').value = land.status;
          });
      };
  
      fetchLands();
    </script>
  
    <!-- Start js -->        
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/modernizr.min.js"></script>
    <script src="assets/js/detect.js"></script>
    <script src="assets/js/jquery.slimscroll.js"></script>
    <script src="assets/js/vertical-menu.js"></script>
    <!-- Switchery js -->
    <script src="assets/plugins/switchery/switchery.min.js"></script>
    <!-- Core js -->
    <script src="assets/js/core.js"></script>
    <!-- End js --> 
</body>

<!-- Mirrored from themesbox.in/admin-templates/orbiter/html/light-vertical/form-groups.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Nov 2024 07:11:12 GMT -->
</html>